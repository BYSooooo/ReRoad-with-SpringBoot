<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"

      layout:decorate="layout/defaultLayout">
<th:block layout:fragment="css">
    <link rel="stylesheet" th:href="@{/css/board/detailBoard.css}">
</th:block>
<th:block layout:fragment="script">
    <script th:src="@{/js/message/sendMsg.js}"></script>
    <script th:src="@{/js/board/detailBoard.js}"></script>
</th:block>
<head>

</head>
<section layout:fragment="content">


    <!-- 작성자 -->
    <input type="hidden" th:value="${board.userId}" id="userId">

    <div class="container">

        <input type="hidden" name="boardNo" th:value="${board.boardNo}" id="boardNo">
        <form method="post">
                <button style="height: 30px;" id="modiBtn" class="btn btn-default waves-effect waves-light">수정</button>
                <button style="height: 30px;" id="deleteBtn" class="btn btn-primary">삭제</button>

            <div id="main">
                <div th:if="${#lists.size(board.boardFiles) >= 1}">
                    <div th:each="boardfile : ${board.boardFiles}" ><img class="fileimage" th:src="@{'/upload/'+${boardfile.systemFileName}}"></div>
                </div>

                <div id="boardTitle" th:text="${board.boardTitle}"></div>

                <span th:text="${board.userNick}"></span>

                <span id="wdate" th:text="${board.boardWdate}"></span>
                <img class="images" src="/images/board/commentCount.png"><span th:text="${board.boardCount}"></span>
                <img class="images" src="/images/board/reComcount.png"><span id="recomCount"><span th:text="${board.recomCount}" /></span>

                <div style="height: 300px;" th:text="${board.boardContent}"></div>

            </div>

        </form>
        <button type="button" class="btn btn-success" id="recomBtn">추천</button>
        <button type="button" class="btn btn-warning" id="reportBtn">신고</button>



        <table id="listComment">
            <thead>
            <tr>
                <td align="center" width="100px;" class="comW">작성자</td>
                <td align="center" width="100px;" class="comWda">날짜</td>
                <td align="center" width="400px;" class="comCt">내용</td>
                <td></td>
                <td></td>
            </tr>
            </thead>
            <tbody th:each="comment : ${commentList}" th:id="${comment.comNo}">
            <tr>
                <td  th:text="${comment.userNick}"></td>
                <td  th:text="${comment.comWdate}"></td>
                <td  class="comContent" th:text="${comment.comContent}"></td>
                <td ><button id="updateComBtn" class="modifyComReqBtn" type="button">수정</button></td>
                <td><button class="removeBtn">삭제</button></td>
            </tr>
            </tbody>
        </table>


        <div id="addComment">
            <div>
                <textarea id="comContent" rows="5" cols="50"
                              placeholder="댓글을 입력해주세요 ."></textarea>
            </div>
            <button id="addComBtn">댓글 달기</button>
            <div id="resultCom">

            </div>
        </div>
        <div id="modifyComment" style="display: none;">
            <div>
                <input type="hidden" id="comNo">
                <textarea id="modifyComContent" rows="5" cols="50"
                          placeholder="댓글을 입력해주세오 ."></textarea>
            </div>

            <div>
                <button id="cancel">취소</button>
                <button id="modifyComBtn">수정하기</button>
            </div>
        </div>


        <div class="toast" data-autohide="false" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <img src="..." class="rounded me-2" alt="...">
                <strong class="me-auto">Bootstrap</strong>
                <small class="text-muted">11 mins ago</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Hello, world! This is a toast message.
            </div>

        </div>
    </div>
</section>
</html>